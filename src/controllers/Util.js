// import cookies 
import Cookies from "js-cookie";

import Axios from "axios";
import Config from "./Config";

class Util {
    constructor() {
        this.api = {
           newsLtter: "/common/subs"



        };
    }
    // ======================================================== ================================================================================================================
    // =============== Sign Up      begins here =============== ================================================================================================================
    // ======================================================== ================================================================================================================


    // ======================================================= ================================================================================================================
    // ===============   chekc signed in start here               ==============================================================================================================
    // ======================================================== ================================================================================================================
    checkSignedIn() {
        if (
            Cookies.get("cId") === undefined ||
            Cookies.get("cM") === undefined ||
            Cookies.get("sin") === undefined ||
            Cookies.get("type") === undefined
        ) {
            return false;
        } else {


            return true;
        }
    }




    // 












    // ======================================================= ================================================================================================================
    // ===============   chekc signed in end   here               ==============================================================================================================
    // ======================================================== ================================================================================================================













    // ======================================================= ================================================================================================================
    // ===============  get user details from cookies  start here =============================================================================================================
    // ======================================================== ================================================================================================================

    // get token
    getToken() {
        return Cookies.get("cTok");
    }
    // get fname
    getLName() {
        return atob(Cookies.get("cNf"));
    }
    // get lname
    getFName() {
        return atob(Cookies.get("cNl"));
    }
    // get email
    getEmail() {
        return atob(Cookies.get("cM"));
    }
    // get created at
    getCreateDate() {
        return atob(Cookies.get("cCre"));
    }
    // get last sign in 
    getLastSignin() {
        return atob(Cookies.get("cLsi"));
    }
    // get id  
    getType() {
        return Cookies.get("type");
    }


    // ======================================================= ================================================================================================================
    // ===============  get user details from cookies  end   here =============================================================================================================
    // ======================================================== ================================================================================================================


    // ======================================================= ================================================================================================================
    // ===============   News letter subscripiton           ==============================================================================================================
    // ======================================================== ================================================================================================================


    newsLetterSubscripton =(email) =>{
        console.log(email);
        var reqData={
            email : email
        }
        return new Promise((resolve, reject) => {
            return Axios.post(`${Config.host}${Config.port}${this.api.newsLtter}`, reqData)
                .then(result => {
                    resolve({ code: 200, data: result.data })
                })
                .catch(err => {
                    reject({ code: 0, error: err })
                })
        })
    }

}
var UserObject = new Util();
export default UserObject;